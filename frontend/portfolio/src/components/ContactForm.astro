---
import ContactForm from '@/components/ContactForm.vue'

const {
  PUBLIC_FRONTEND_HOST,
  PUBLIC_CONTACT_FORM_TARGET,
  PUBLIC_CONTACT_FORM_NAME_MAXLENGTH,
  PUBLIC_CONTACT_FORM_COMPANY_MAXLENGTH,
  PUBLIC_CONTACT_FORM_EMAIL_MAXLENGTH,
  PUBLIC_CONTACT_FORM_EMAIL_REGEX,
  PUBLIC_CONTACT_FORM_MESSAGE_CONTENT_MAXLENGTH,
  PUBLIC_CONTACT_FORM_MESSAGE_CONTENT_MINLENGTH
} = import.meta.env

const debugObj = {
  PUBLIC_FRONTEND_HOST,
  PUBLIC_CONTACT_FORM_TARGET,
  PUBLIC_CONTACT_FORM_NAME_MAXLENGTH,
  PUBLIC_CONTACT_FORM_COMPANY_MAXLENGTH,
  PUBLIC_CONTACT_FORM_EMAIL_MAXLENGTH,
  PUBLIC_CONTACT_FORM_EMAIL_REGEX,
  PUBLIC_CONTACT_FORM_MESSAGE_CONTENT_MAXLENGTH,
  PUBLIC_CONTACT_FORM_MESSAGE_CONTENT_MINLENGTH
}

const overrides = {
  name: {
    maxlength: PUBLIC_CONTACT_FORM_NAME_MAXLENGTH
  },
  company: {
    maxlength: PUBLIC_CONTACT_FORM_COMPANY_MAXLENGTH
  },
  email: {
    maxlength: PUBLIC_CONTACT_FORM_EMAIL_MAXLENGTH,
    regex: PUBLIC_CONTACT_FORM_EMAIL_REGEX
  },
  messagecontent: {
    minlength: PUBLIC_CONTACT_FORM_MESSAGE_CONTENT_MINLENGTH,
    maxlength: PUBLIC_CONTACT_FORM_MESSAGE_CONTENT_MAXLENGTH
  }
}
---

<ContactForm 
  client:only 
  target={PUBLIC_CONTACT_FORM_TARGET} 
  origin={PUBLIC_FRONTEND_HOST} 
  overrides={overrides} 
/>